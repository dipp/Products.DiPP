<p tal:replace="structure here/manage_page_header" omit-tag="">Header</p>
<h2 tal:define="manage_tabs_message options/manage_tabs_message | nothing"
tal:replace="structure here/manage_tabs">Tabs</h2>

<div tal:condition="not: here/label" class="system-msg">You must configure alabel first
</div>

<h3>URN Maintenance</h3>
<p>
    Only Object with the Content Model DiPP:Article are shown.
</p>

<table border="0" cellpadding="2" cellspacing="0" width="98%"
       tal:define="bibtool context/bibtool;
                   articles  python:here.portal_catalog(portal_type='FedoraArticle', sort_on='getPID', sort_order='reverse')">
    <tr class="list-header">
        <th width="16">&nbsp;</th>
        <th>URN</th>
        <th>URL</th>
        <th>Title</th>
        <th>registered</th>
        <th>valid</th>
    </tr>
    
    <tr tal:define="URN string:urn:nbn:de:0009-11-29231;
                    URL string:http://www.socwork.net/2011/1/salisbury;
                    urn_status python:bibtool.urnstatus(URN,URL)">
        <td>&nbsp;</td>
        <td tal:content="URN"></td>
        <td tal:content="URL"></td>
        <td>Dummy Title</td>
        <td tal:content="urn_status/registered"> </td>
        <td tal:content="urn_status/valid"> </td>
    </tr>

    <tal:block tal:repeat="article articles">
        <tr tal:define="PID article/getPID;
                        title article/Title;
                        URL article/getURL;
                        URN article/getURN;
                        urn_status python:bibtool.urnstatus(URN,URL)"
            tal:condition="not: python:PID.startswith('temp')"
            tal:attributes="class python:test(path('repeat/article/even'), 'row-hilite', 'row-normal')">
            <td width="16">
                <input type="checkbox" name="PIDs:list" value="" tal:attributes="value article/PID">
            </td>
            <td tal:content="URN"></td>
            <td tal:content="URL"></td>
            <td>
                <abbr tal:attributes="title title"
                      tal:content="python:title[0:40] + '...'"></abbr>
            </td>
            <td tal:content="urn_status/registered"> </td>
            <td tal:content="urn_status/valid"> </td>
        </tr>
    </tal:block>
</table>

<p tal:replace="structure here/manage_page_footer" omit-tag="">Footer</p>
