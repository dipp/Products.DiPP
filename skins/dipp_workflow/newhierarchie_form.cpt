<html xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    metal:use-macro="here/main_template/macros/master">
    <metal:block fill-slot="base">
        <base href="" tal:attributes="href python: here.absolute_url() + '/'">
    </metal:block>

    <metal:block fill-slot="top_slot" tal:define="dummy python:request.set('disable_border',1)" />

    <body>

        <div metal:fill-slot="main">
            <h1 class="documentFirstheading">New Container</h1>
            
                <form tal:define="errors options/state/getErrors"
                    tal:attributes="action string:${here/absolute_url}/${template/id};"
                    method="post">

                    <input type="hidden" name="form.submitted" value="1" />
                    <!--
                    <input type="hidden" name="journalPID" value="" tal:attributes="value python:here.getJournalPID(here)" />
                    -->
                    <div class="field"
                        tal:define="error errors/title|nothing;
                                    title request/title|nothing"
                        tal:attributes="class python:test(error, 'field error', 'field')"
                        i18n:domain="plone">
                        <label for="title" i18n:translate="label_title" >title</label>

                        <div tal:content="error">Validation error output</div>
                        <input type="text"
                               name="title"
                               value=""
                               tal:attributes="value title"/>
                    </div>

                    <div class="field"
                        tal:define="error errors/MetaType|nothing"
                        tal:attributes="class python:test(error, 'field error', 'field')"
                        i18n:domain="dipp">

                        <label for="title" i18n:translate="label_title" >MetaType</label>

                        <div tal:content="error">Validation error output</div>
                        <select name="MetaType" size='7'>
                            <option value="volume">Volume</option>
                            <option value="series">Series</option>
                            <option value="category">Category</option>
                            <option value="topic">Topic</option>
                            <option value="article">Article</option>
                            <option value="congress">Congress</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="field"
                        tal:define="error errors/journalPID|nothing"
                        tal:attributes="class python:test(error, 'field error', 'field')"
                        i18n:domain="dipp">

                        <label for="title" i18n:translate="label_title" >journalPID</label>

                        <div tal:content="error">Validation error output</div>
                        <select size="5" name="journalPID">
                            <tal:block tal:repeat="tree here/hierarchieTree">
                                <option  tal:attributes="value tree/PID" value="" tal:content="tree/URL"></option>
                            </tal:block>
                        </select>
                    </div>

                    <input class="context"
                           tabindex=""
                           type="submit"
                           name="form.button.Save"
                           value="Save"
                           i18n:attributes="value"
                           tal:attributes="tabindex tabindex/next;
                                           disabled python:test(isLocked, 'disabled', None);" />

                    <input class="standalone"
                           tabindex=""
                           type="submit"
                           name="form.button.Cancel"
                           value="Cancel"
                           i18n:attributes="value"
                           tal:attributes="tabindex tabindex/next;" />

                </form>
        
        </div>
    </body>
</html>

