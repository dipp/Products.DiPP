<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      i18n:domain="plone">

	<body>
        
<!-- BEARBEITEN-->
		<div metal:define-macro="fields" id="qdc-creatorPerson">

            <!-- AUTOREN -->
            <div class="field"
                 tal:define="error errors/creatorPerson|nothing;
                             authors python:qdc['creatorPerson'];
                             authorNumber python:len(authors);
                             newAuthorNumber request/newAuthorNumber|authorNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">
                <input type="hidden" name="newAuthorNumber" value="" tal:attributes="value newAuthorNumber"/>
                <input type="hidden" name="authorNumber" value="" tal:attributes="value authorNumber"/>
                <label for="creatorPerson" i18n:translate="label_creatorPerson">creatorPerson</label>
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                
                <table class="listing">
                    <tr tal:repeat="person authors" tal:attributes="class python:test(path('repeat/person/even'), 'even', 'odd')">
                        <td>
                            <table tal:define="i repeat/person/index" class="listing1">
                                <tr>
                                    <td rowspan="5">
                                        <input type="checkbox" name="author_delete:list" tal:attributes="value repeat/person/number">
                                    </td>
                                    <td rowspan="5" tal:content="repeat/person/number">
                                    </td>
                                    <td>
                                        <span i18n:translate="academicTitle">akad. Titel</span>,
                                        <span i18n:translate="lastName">Nachname</span>,
                                        <span i18n:translate="firstName">Vorname</span>
                                    </td>
                                    <td><!--
                                        <select>
                                            <tal:block tal:repeat="academicTitle python: here.academicTitles()">
                                                <option tal:content="academicTitle">Dr.</option>
                                            </tal:block>
                                        </select>-->
                                        <input class="academicTitle"  type='text' name="author_academicTitle:list"  tal:attributes="value python: here.test('author_academicTitle',person['academicTitle'],i)" />
                                        <input class="lastName" type='text' name="author_lastName:list"  tal:attributes="value python: here.test('author_lastName',person['lastName'],i)" />,
                                        <input class="firstName" type='text' name="author_firstName:list" tal:attributes="value python: here.test('author_firstName',person['firstName'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="emailAddress">E-Mail</span>
                                    </td>
                                    <td>
                                        <input class="emailAddress" type='text' name="author_emailAddress:list"  tal:attributes="value python: here.test('author_emailAddress',person['emailAddress'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="PNDIdentNumber">PNDIdentNummer</span>
                                    </td>
                                    <td>
                                        <input class="PNDIdentNumber" type='text' name="author_PNDIdentNumber:list" tal:attributes="value python: here.test('author_PNDIdentNumber',person['PNDIdentNumber'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="organization">Organisation</span>
                                    </td>
                                    <td>
                                        <input class="organization" type='text' name="author_organization:list"  tal:attributes="value python: here.test('author_organization',person['organization'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="postalAddress">Anschrift</span>
                                    </td>
                                    <td>
                                        <input class="postalAddress" type='text' name="author_postalAddress:list"  tal:attributes="value python: here.test('author_postalAddress',person['postalAddress'],i)" />
                                    </td>   
                                 </tr>
                            </table>
                        </td>
                    </tr>
                    <tr tal:condition="python: newAuthorNumber > authorNumber"
                        tal:repeat="person python:range(int(authorNumber),int(newAuthorNumber))"
                        tal:attributes="class python:test(path('repeat/person/even'), 'even', 'odd')">

                        <tal:block tal:define="number repeat/person/number;
                                               index  repeat/person/index;
                                               no     python:number + authorNumber;
                                               i      python:index + authorNumber">
                        <td>
                            <table class="listing1">
                                <tr>
                                    <td rowspan="5">
                                        <input type="checkbox" name="author_delete:list" tal:attributes="value repeat/person/number">
                                    </td>
                                    <td rowspan="5" tal:content="no">
                                    </td>
                                    <td>
                                        <span i18n:translate="academicTitle">akad. Titel</span>,
                                        <span i18n:translate="lastName">Nachname</span>,
                                        <span i18n:translate="firstName">Vorname</span>
                                    </td>
                                    <td><!--
                                        <select>
                                            <tal:block tal:repeat="academicTitle python: here.academicTitles()">
                                                <option tal:content="academicTitle">Dr.</option>
                                            </tal:block>
                                        </select>-->
                                        <input class="academicTitle"  type='text' name="author_academicTitle:list"  tal:attributes="value python: here.test('author_academicTitle',None,i)" />
                                        <input class="lastName" type='text' name="author_lastName:list"  tal:attributes="value python: here.test('author_lastName',None,i)" />,
                                        <input class="firstName" type='text' name="author_firstName:list" tal:attributes="value python: here.test('author_firstName',None,i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="emailAddress">E-Mail</span>
                                    </td>
                                    <td>
                                        <input class="emailAddress" type='text' name="author_emailAddress:list"  tal:attributes="value python: here.test('author_emailAddress',None,i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="PNDIdentNumber">PNDIdentNummer</span>
                                    </td>
                                    <td>
                                        <input class="PNDIdentNumber" type='text' name="author_PNDIdentNumber:list" tal:attributes="value python: here.test('author_PNDIdentNumber',None,i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="organization">Organisation</span>
                                    </td>
                                    <td>
                                        <input class="organization" type='text' name="author_organization:list"  tal:attributes="value python: here.test('author_organization',None,i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="postalAddress">Anschrift</span>
                                    </td>
                                    <td>
                                        <input class="postalAddress" type='text' name="author_postalAddress:list"  tal:attributes="value python: here.test('author_postalAddress',None,i)" />
                                    </td>   
                                 </tr>
                            </table>
                        </td>
                        </tal:block>          
                   </tr>
                <table>
                
                <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.removeCreatorPerson"
                   value="remove selected authors"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />
                                   
                <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.addCreatorPerson"
                   value="add Author"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />
            </div>
        </div>
	</body>
</html>
