<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      i18n:domain="plone">

    <body>
        
<!-- BEARBEITEN-->

        <div metal:define-macro="fields" id="qdc-fields">
       <fieldset>
       <legend i18n:domain="qdc" i18n:translate="label_language_ddc">Sprache und DDC des Artikels</legend>
            <!-- language -->
            <div class="field"
                 tal:define="error errors/language|nothing;
                             languages python:qdc['language']"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">

                <label for="language" i18n:domain="qdc"  i18n:translate="label_language">sprache</label>
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                <tal:block tal:repeat="language languages">
                    <tal:block tal:define="i repeat/language/index">
                        <div tal:content="structure python:here.langList('language:list',here.test('language',language, i))">
                        </div>
                    </tal:block>
                </tal:block>

            </div>

            <!-- DDC --> 
            <div class="field"
                 tal:define="error errors/DDC|nothing;
                             DDCs python:qdc['DDC'];
                             DDCNumber python:len(DDCs);
                             newDDCNumber request/newDDCNumber|DDCNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">
                <input type="hidden" name="newDDCNumber" value="" tal:attributes="value newDDCNumber"/>
                <input type="hidden" name="DDCNumber" value="" tal:attributes="value DDCNumber"/>

                <label for="DDC" i18n:translate="label_ddc">DDC</label>
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                <tal:block tal:repeat="DDC DDCs">
                    <tal:block tal:define="i repeat/DDC/index">
                        <div tal:content="structure python:here.DDCList('DDC:list',here.test('DDC',DDC, i))">
                        </div>
                    </tal:block>
                </tal:block>
                <tal:block tal:condition="python: newDDCNumber > DDCNumber"
                    tal:repeat="DDC python:range(int(DDCNumber),int(newDDCNumber))">
                    <tal:block tal:define="number repeat/DDC/number;
                                           index  repeat/DDC/index;
                                           no     python:number + DDCNumber;
                                           i      python:index + DDCNumber">
                    <div tal:content="structure python:here.DDCList('DDC:list',here.test('DDC',DDC, i))">
                    </div>
                    </tal:block>
                </tal:block>

                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.addDDC"
                       value="value_addDDC"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;
                                       disabled python:test(isLocked, 'disabled', None);" />

            </div>   
           </fieldset>

           <fieldset>
            <legend i18n:domain="qdc" i18n:translate="label_alternative">alternative</legend>

            <!-- ALTERNATIVER TITEL -->
            <div class="field"
                 tal:define="error errors/alternative|nothing;
                             alternatives python:qdc['alternative'];
                             alternativeNumber python:len(alternatives);
                             newAlternativeNumber request/newAlternativeNumber|alternativeNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">
                
                <input type="hidden" name="newAlternativeNumber" value="" tal:attributes="value newAlternativeNumber"/>
                <input type="hidden" name="alternativeNumber" value="" tal:attributes="value alternativeNumber"/>
                
                <div tal:content="error">Validation error output</div>
                <table class="listing">
                    <tr>
                        <th>#</th>
                        <th i18n:translate="label_title">Titel</th>
                        <th i18n:translate="label_language">Sprache</th>
                    </tr>
                    <tr tal:repeat="alternative alternatives">
                        <td tal:content="repeat/alternative/number">#</td>
                        <td>
                            <input type="hidden" name="alternative_type:list" value="">
                            <input type="text"
                                   name="alternative_value:list"
                                   tal:define="i repeat/alternative/index;
                                               value python:alternative['value']"
                                   tal:attributes="value python: here.test('alternative_value',value,i)" />
                        </td>
                        <td tal:define="i repeat/alternative/index;
                                        lang python:alternative['lang']" 
                            tal:content="structure python:here.langList('alternative_lang:list',here.test('alternative_lang',lang,i))">
                            Sprachauswahlliste
                            <input type="text"
                                   name="alternative_lang:list"
                                   tal:define="i repeat/alternative/index;
                                               value python:alternative['lang']"
                                   tal:attributes="value python: here.test('alternative_lang',value,i)" />
                        </td>
                    </tr>
                    <tr tal:condition="python: newAlternativeNumber > alternativeNumber"
                        tal:repeat="alternative python:range(int(alternativeNumber),int(newAlternativeNumber))">
                        <tal:block tal:define="number repeat/alternative/number;
                                               index  repeat/alternative/index;
                                               no     python:number + alternativeNumber;
                                               i      python:index + alternativeNumber">
                            <td tal:content="no">#</td>
                            <td>
                                <input type="hidden" name="alternative_type:list" value="">
                                <input type="text"
                                       name="alternative_value:list"
                                       tal:attributes="value python: here.test('alternative_value',None,i)" />
                            </td>
                            <td tal:content="structure python:here.langList('alternative_lang:list',here.test('alternative_lang',None,i))">
                                Sprachauswahlliste
                                <input type="text"
                                       name="alternative_lang:list"
                                       tal:attributes="value python: here.test('alternative_lang',None,i)" />
                            </td>
                        </tal:block>    
                    </tr>
                </table>
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.addAlternative"
                       value="value_addAlternative"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;
                                       disabled python:test(isLocked, 'disabled', None);" />

            </div>
           </fieldset>

           <fieldset>
            <legend i18n:domain="qdc" i18n:translate="label_abstract">Abstract</legend>

            <!--Abstract -->
            <div class="field"
                 tal:define="error errors/abstract|nothing;
                             abstracts python:qdc['DCTermsAbstract'];
                             abstractNumber python:len(abstracts);
                             newAbstractNumber request/newAbstractNumber|abstractNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">
                <input type="hidden" name="newAbstractNumber" value="" tal:attributes="value newAbstractNumber"/>
                <input type="hidden" name="abstractNumber" value="" tal:attributes="value abstractNumber"/>
                <div tal:content="error">Validation error output</div>
                <tal:block tal:repeat="abstract abstracts">
                    <tal:block tal:define="i repeat/abstract/index;
                                           lang python:abstract['lang']">
                         <tal:block tal:content="structure python:here.langList('abstract_lang:list',here.test('abstract_lang',lang,i))" />
                        <textarea name="abstract_value:list"  tal:content=" python: here.test('abstract_value',abstract['value'],i)" ></textarea>
                        <!--<textarea name="abstract_value:list"  tal:content="python:abstract['value']">
                        </textarea>-->
                    </tal:block>
                </tal:block>
                <tal:block tal:condition="python: newAbstractNumber > abstractNumber"
                           tal:repeat="abstract python:range(int(abstractNumber),int(newAbstractNumber))">
                    <tal:block tal:define="number repeat/abstract/number;
                                           index  repeat/abstract/index;
                                           no     python:number + abstractNumber;
                                           i      python:index + abstractNumber">
                         <tal:block tal:content="structure python:here.langList('abstract_lang:list',here.test('abstract_lang',None,i))" />
                        <textarea name="abstract_value:list" tal:content=" python: here.test('abstract_value', None, i)"></textarea>
                    </tal:block>
                </tal:block>
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.addAbstract"
                       value="value_addAbstract"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next;
                                       disabled python:test(isLocked, 'disabled', None);" />
            </div>
           </fieldset>

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_creatorPerson">creatorPerson</legend>
            <!-- AUTOREN -->
            <div class="field"
                 tal:define="error errors/creatorPerson|nothing;
                             authors python:qdc['creatorPerson'];
                             authorNumber python:len(authors);
                             newAuthorNumber request/newAuthorNumber|authorNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
             >
                <input type="hidden" name="newAuthorNumber" value="" tal:attributes="value newAuthorNumber"/>
                <input type="hidden" name="authorNumber" value="" tal:attributes="value authorNumber"/>
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                
                <table class="listing">
                    <tr tal:repeat="person authors" tal:attributes="class python:test(path('repeat/person/even'), 'even', 'odd')">
                        <td>
                            <table tal:define="i repeat/person/index" class="listing1">
                                <tr>
                                    <td rowspan="5">
                                        <input type="checkbox" name="author_delete:list" tal:attributes="value repeat/person/number">
                                    </td>
                                    <td rowspan="5" tal:content="repeat/person/number">
                                    </td>
                                    <td>
                                        <span i18n:translate="academicTitle">akad. Titel</span>,
                                        <span i18n:translate="lastName">Nachname</span>,
                                        <span i18n:translate="firstName">Vorname</span>
                                    </td>
                                    <td><!--
                                        <select>
                                            <tal:block tal:repeat="academicTitle python: here.academicTitles()">
                                                <option tal:content="academicTitle">Dr.</option>
                                            </tal:block>
                                        </select>-->
                                        <input class="academicTitle"  type='text' name="author_academicTitle:list"  tal:attributes="value python: here.test('author_academicTitle',person['academicTitle'],i)" />
                                        <input class="lastName" type='text' name="author_lastName:list"  tal:attributes="value python: here.test('author_lastName',person['lastName'],i)" />,
                                        <input class="firstName" type='text' name="author_firstName:list" tal:attributes="value python: here.test('author_firstName',person['firstName'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="emailAddress">E-Mail</span>
                                    </td>
                                    <td>
                                        <input class="emailAddress" type='text' name="author_emailAddress:list"  tal:attributes="value python: here.test('author_emailAddress',person['emailAddress'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="PNDIdentNumber">PNDIdentNummer</span>
                                    </td>
                                    <td>
                                        <input class="PNDIdentNumber" type='text' name="author_PNDIdentNumber:list" tal:attributes="value python: here.test('author_PNDIdentNumber',person['PNDIdentNumber'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="organization">Organisation</span>
                                    </td>
                                    <td>
                                        <input class="organization" type='text' name="author_organization:list"  tal:attributes="value python: here.test('author_organization',person['organization'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="postalAddress">Anschrift</span>
                                    </td>
                                    <td>
                                        <input class="postalAddress" type='text' name="author_postalAddress:list"  tal:attributes="value python: here.test('author_postalAddress',person['postalAddress'],i)" />
                                    </td>   
                                 </tr>
                            </table>
                        </td>
                    </tr>
                    <tr tal:condition="python: newAuthorNumber > authorNumber"
                        tal:repeat="person python:range(int(authorNumber),int(newAuthorNumber))"
                        tal:attributes="class python:test(path('repeat/person/even'), 'even', 'odd')">

                        <tal:block tal:define="number repeat/person/number;
                                               index  repeat/person/index;
                                               no     python:number + authorNumber;
                                               i      python:index + authorNumber">
                        <td>
                            <table class="listing1">
                                <tr>
                                    <td rowspan="5">
                                        <input type="checkbox" name="author_delete:list" tal:attributes="value repeat/person/number">
                                    </td>
                                    <td rowspan="5" tal:content="no">
                                    </td>
                                    <td>
                                        <span i18n:translate="academicTitle">akad. Titel</span>,
                                        <span i18n:translate="lastName">Nachname</span>,
                                        <span i18n:translate="firstName">Vorname</span>
                                    </td>
                                    <td><!--
                                        <select>
                                            <tal:block tal:repeat="academicTitle python: here.academicTitles()">
                                                <option tal:content="academicTitle">Dr.</option>
                                            </tal:block>
                                        </select>-->
                                        <input class="academicTitle"  type='text' name="author_academicTitle:list"  tal:attributes="value python: here.test('author_academicTitle',None,i)" />
                                        <input class="lastName" type='text' name="author_lastName:list"  tal:attributes="value python: here.test('author_lastName',None,i)" />,
                                        <input class="firstName" type='text' name="author_firstName:list" tal:attributes="value python: here.test('author_firstName',None,i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="emailAddress">E-Mail</span>
                                    </td>
                                    <td>
                                        <input class="emailAddress" type='text' name="author_emailAddress:list"  tal:attributes="value python: here.test('author_emailAddress',None,i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="PNDIdentNumber">PNDIdentNummer</span>
                                    </td>
                                    <td>
                                        <input class="PNDIdentNumber" type='text' name="author_PNDIdentNumber:list" tal:attributes="value python: here.test('author_PNDIdentNumber',None,i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="organization">Organisation</span>
                                    </td>
                                    <td>
                                        <input class="organization" type='text' name="author_organization:list"  tal:attributes="value python: here.test('author_organization',None,i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="postalAddress">Anschrift</span>
                                    </td>
                                    <td>
                                        <input class="postalAddress" type='text' name="author_postalAddress:list"  tal:attributes="value python: here.test('author_postalAddress',None,i)" />
                                    </td>   
                                 </tr>
                            </table>
                        </td>
                        </tal:block>          
                   </tr>
                </table>
                <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.addAuthor"
                   value="value_addAuthor"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />
            </div>
           </fieldset>

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_creatorCorporate">korporative Autoren</legend>
            
            <!-- korporative Autoren -->
            <div class="field"
                 tal:define="error errors/creatorCorporated|nothing;
                             corporateauthors python:qdc['creatorCorporated'];
                             corporateauthorNumber python:len(corporateauthors);
                             newCorporateAuthorNumber request/newCorporateAuthorNumber|corporateauthorNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
             >
                 <input type="hidden" name="newCorporateAuthorNumber" value="" tal:attributes="value newCorporateAuthorNumber"/>
                 <input type="hidden" name="corporateauthorNumber" value="" tal:attributes="value corporateauthorNumber"/>
                 <div tal:content="error">Validation error output</div>

                 <table class="listing">
                    <tr tal:repeat="corporateperson corporateauthors">
                        <td>
                            <table tal:define="i repeat/corporateperson/index">
                                <tr>
                                    <td rowspan="5">
                                        <input type="checkbox" name="author_delete:list" tal:attributes="value repeat/corporateperson/number">
                                    </td>
                                    <td rowspan="5" tal:content="repeat/corporateperson/number">
                                    </td>
                                    <td>Name</td>
                                    <td><input class="institutionelAuthor" type='text' name="corp_institutionelAuthor:list"  tal:attributes="value python: here.test('corp_institutionelAuthor',corporateperson['institutionelAuthor'],i)" /></td>
                                </tr>
                                <tr>
                                    <td>Email</td>
                                    <td><input class="emailAddress" type='text' name="corp_emailAddress:list"  tal:attributes="value python: here.test('corp_emailAddress',corporateperson['emailAddress'],i)" /></td>
                                </tr>
                                <tr>
                                    <td>Organisation</td>
                                    <td><input class="organization" type='text' name="corp_organization:list"  tal:attributes="value python: here.test('corp_organization',corporateperson['organization'],i)" /></td>
                                </tr>
                                <tr>
                                    <td i18n:translate="postalAddress">Anschrift</td>
                                    <td><input class="postalAddress" type='text' name="corp_postalAddress:list"  tal:attributes="value python: here.test('corp_postalAddress',corporateperson['postalAddress'],i)" /></td>
                                </tr>
                                <tr>
                                    <td>GKDIdentNummer</td>
                                    <td><input class="GKDIdentNumber" type='text' name="corp_GKDIdentNumber:list"  tal:attributes="value python: here.test('corp_GKDIdentNumber',corporateperson['GKDIdentNumber'],i)" /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                 </table>
<!--                <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.addCorporateAuthor"
                   value="value_add"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />
-->
            </div>
           </fieldset>

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_contributor">Mitwirkende</legend>
            <!-- Mitwirkende -->
            <div class="field"
                 tal:define="error errors/contributor|nothing;
                             contributors python:qdc['contributor'];
                             contributorNumber python:len(contributors);
                             newContributorNumber request/newContributorNumber|contributorNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
            >
                 <input type="hidden" name="newContributorNumber" value="" tal:attributes="value newContributorNumber"/>
                 <input type="hidden" name="contributorNumber" value="" tal:attributes="value contributorNumber"/>
                 <div tal:content="error">Validation error output</div>
                 <table class="listing">
                    <tr tal:repeat="contributorperson contributors">
                        <td>
                            <table tal:define="i repeat/contributorperson/index" class="listing1">
                                <tr>
                                    <td rowspan="6">
                                        <input type="checkbox" name="contrib_delete:list" tal:attributes="value repeat/contributorperson/number">
                                    </td>
                                    <td rowspan="6" tal:content="repeat/contributorperson/number">
                                    </td>
                                    <td>
                                        <span i18n:translate="academicTitle">akad. Titel</span>,
                                        <span i18n:translate="lastName">Nachname</span>,
                                        <span i18n:translate="firstName">Vorname</span>
                                    </td>
                                    <td>
                                        <input class="academicTitle"  type='text' name="contrib_academicTitle:list"  tal:attributes="value python: here.test('contrib_academicTitle',contributorperson['academicTitle'],i)" />
                                        <input class="lastName" type='text' name="contrib_lastName:list"  tal:attributes="value python: here.test('contrib_lastName',contributorperson['lastName'],i)" />,
                                        <input class="firstName" type='text' name="contrib_firstName:list" tal:attributes="value python: here.test('contrib_firstName',contributorperson['firstName'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="emailAddress">E-Mail</span>
                                    </td>
                                    <td>
                                        <input class="emailAddress" type='text' name="contrib_emailAddress:list"  tal:attributes="value python: here.test('contrib_emailAddress',contributorperson['emailAddress'],i)" />
                                    </td>
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="PNDIdentNumber">PNDIdentNummer</span>
                                    </td>
                                    <td>
                                        <input class="PNDIdentNumber" type='text' name="contrib_PNDIdentNumber:list" tal:attributes="value python: here.test('contrib_PNDIdentNumber',contributorperson['PNDIdentNumber'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="role">Rolle</span>
                                    </td>
                                    <td>
                                        <input class="role" type='text' name="contrib_role:list"  tal:attributes="value python: here.test('contrib_role',contributorperson['role'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="organization">Organisation</span>
                                    </td>
                                    <td>
                                        <input class="organization" type='text' name="contrib_organization:list"  tal:attributes="value python: here.test('contrib_organization',contributorperson['organization'],i)" />
                                    </td>   
                                 </tr>
                                 <tr>
                                    <td>
                                        <span i18n:translate="postalAddress">Anschrift</span>
                                    </td>
                                    <td>
                                        <input class="postalAddress" type='text' name="contrib_postalAddress:list"  tal:attributes="value python: here.test('contrib_postalAddress',contributorperson['postalAddress'],i)" />
                                    </td>   
                                 </tr>
                            </table>
            </td>
            </tr>
         </table>
         <!--
                 <table class="listing" border="1" rules="groups">
                   <thead>
                    <tr>
                        <th rowspan=2>#</th>
                        <th i18n:translate="academicTitle">Akadem. Titel</th>
                        <th i18n:translate="firstName">Vorname</th>
                        <th i18n:translate="lastName">Nachname</th>
                        <th>Email</th>
                    </tr>
                    <tr>
                        <th i18n:translate="role">Rolle</th>
                        <th>Organisation</th>
                        <th i18n:translate="postalAddress">Anschrift</th>
                        <th>PNDIdentNummer</th>
                    </tr>
                   </thead>
                   <tbody tal:repeat="contributorperson contributors">
                    <tal:block tal:define="i repeat/contributorperson/index">
                     <tr>
                            <td rowspan=2 tal:content="repeat/contributorperson/number">#</td>
                            <td><input type='text' name="contrib_academicTitle:list"  tal:attributes="value python: here.test('contrib_academicTitle',contributorperson['academicTitle'],i)" /></td>
                            <td><input type='text' name="contrib_firstName:list" tal:attributes="value python: here.test('contrib_firstName',contributorperson['firstName'],i)" /></td>
                            <td><input type='text' name="contrib_lastName:list"  tal:attributes="value python: here.test('contrib_lastName',contributorperson['lastName'],i)" /></td>
                            <td><input type='text' name="contrib_emailAddress:list"  tal:attributes="value python: here.test('contrib_emailAddress',contributorperson['emailAddress'],i)" /></td>
                     </tr>
                     <tr>
                            <td><input type='text' name="contrib_role:list"  tal:attributes="value python: here.test('contrib_role',contributorperson['role'],i)" /></td>
                            <td><input type='text' name="contrib_organization:list"  tal:attributes="value python: here.test('contrib_organization',contributorperson['organization'],i)" /></td>
                            <td><input type='text' name="contrib_postalAddress:list"  tal:attributes="value python: here.test('contrib_postalAddress',contributorperson['postalAddress'],i)" /></td>
                            <td><input type='text' name="contrib_PNDIdentNumber:list" tal:attributes="value python: here.test('contrib_PNDIdentNumber',contributorperson['PNDIdentNumber'],i)" /></td>
                     </tr>
                    </tal:block>
                   
                   </tbody>
                 </table>
            -->
            </div>
           </fieldset>

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_keywords_subjects">subject</legend>
            <!-- KEYWORDS -->
            <!-- freie Schlagwörter -->
            <div class="field"
                 tal:define="error errors/subject|nothing;
                             subject request/subject|qdc/subject|nothing;"
                 tal:attributes="class python:test(error, 'field error', 'field')"
            >
<!--                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
-->
                <div tal:content="error">Validation error output</div>
                <div class="formHelp" i18n:translate="help_subject">
                    Freie Schlagwörter, eins pro Zeile.
                </div>
                <textarea name="subject:lines" rows="3" cols="5"><tal:block tal:repeat="keyword subject"><tal:block tal:replace="keyword">Keyword</tal:block>
</tal:block></textarea>
            </div>

            <!-- normierte Schlagwörter -->
            <div class="field"
                 tal:define="error errors/subjectClassified|nothing;
                             subjectClassified python:qdc['subjectClassified'];
                             subjectClassifiedNumber python:len(subjectClassified);
                             newSubjectClassifiedNumber request/newSubjectClassifiedNumber|subjectClassifiedNumber"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">
                <input type="hidden" name="newSubjectClassifiedNumber" value="" tal:attributes="value newSubjectClassifiedNumber"/>
                <input type="hidden" name="subjectClassifiedNumber" value="" tal:attributes="value subjectClassifiedNumber"/>
                <label for="subjectClassified" i18n:translate="label_subjectClassified">subjectClassified</label>
<!--                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
-->
                <div tal:content="error">Validation error output</div>
                <div class="formHelp" >
                <p i18n:translate="help_subjectClassified">Normierte Schlagworte</p>
                <ul class='inline'>
                    <li><a href='http://www.bsz-bw.de/cgi-bin/oswd-suche.pl' title="Schlagwort Normdatei" target="_blank">SWD</a></li>
                    <li><a href='http://authorities.loc.gov' title="Library of Congress Subject Headings" target="_blank">LCSH </a></li>
                    <li><a href='http://www.nlm.nih.gov/mesh/meshhome.html' title="Medical Subject Headings" target="_blank">MeSH</a></li>
                    <li><a href='http://www.oclc.org/dewey/versions/webdewey/default.htm' title="Dewey Decimal Classification" target="_blank">DDC</a></li>
                    <li><a href='http://www.ddc-deutsch.de' title="DDC, Deutsche Version" target="_blank">DDC (de)</a></li>
                    <li><a href='http://www.loc.gov/catdir/cpso/lcco/lcco.html' title="Library of Congress Classification" target="_blank">LCC </a></li>
                    <li><a href='http://www.udcc.org/outline/outline.htm' title="Universal Decimal Classification" target="_blank">UDC</a></li>
                    <li><a href='http://www.bibliothek.uni-regensburg.de/rvko_neu/' title="Regensburger Verbundklassifikation" target="_blank">RVK</a></li>
                    <li><a href='http://www.gbv.de/du/sacher/bk3_gbv.shtml' title="Basis-Klassifikation" target="_blank">BK</a></li>
                    <li><a href='http://publish.aps.org/PACS/' title="Physics and Astronomy Classification Scheme" target="_blank">PACS</a></li>
                </ul>
                </div>
                <table class="listing">
                    <tr>
                        <th>#</th>
                        <th i18n:translate="keyword">Schlagwort</th>
                        <th i18n:translate="identNo">IdentNr.</th>
                        <th i18n:translate="source">Quelle</th>
                    </tr>
                    <tr tal:repeat="keyword subjectClassified">
                        <tal:block tal:define="i repeat/keyword/index; no repeat/keyword/number">
                            <td tal:content="no">#</td>
                            <td><input type="text" value="" name="sc_subjectClassified:list" tal:attributes="value python: here.test('sc_subjectClassified',keyword['subjectClassified'],i)" /></td>
                            <td><input type="text" value="" name="sc_classificationIdent:list" tal:attributes="value python: here.test('sc_classificationIdent',keyword['classificationIdent'],i)" /></td>
                            <td tal:define="value python: here.test('sc_classificationSystem',keyword['classificationSystem'],i)"
                                tal:content="structure python:here.NormList('sc_classificationSystem:list',value)">
                                    dropdown normlisten
                            </td>
                        </tal:block>
                    </tr>
                    <tr tal:condition="python: newSubjectClassifiedNumber > subjectClassifiedNumber"
                        tal:repeat="keyword python:range(int(subjectClassifiedNumber),int(newSubjectClassifiedNumber))">
                        <tal:block tal:define="number repeat/keyword/number;
                                               index  repeat/keyword/index;
                                               no     python:number + subjectClassifiedNumber;
                                               i      python:index + subjectClassifiedNumber">
                            <td tal:content="no">#</td>
                            <td><input type="text" value="" name="sc_subjectClassified:list" tal:attributes="value python: here.test('sc_subjectClassified',None,i)" /></td>
                            <td><input type="text" value="" name="sc_classificationIdent:list" tal:attributes="value python: here.test('sc_classificationIdent',None,i)" /></td>
                            <td tal:define="value python: here.test('sc_classificationSystem',None,i)"
                                tal:content="structure python:here.NormList('sc_classificationSystem:list',value)">
                                    dropdown normlisten
                            </td>
                        </tal:block>
                    </tr>
                </table>
                <input class="context"
                   tabindex=""
                   type="submit"
                   name="form.button.addKeyword"
                   value="value_add"
                   i18n:attributes="value"
                   tal:attributes="tabindex tabindex/next;
                                   disabled python:test(isLocked, 'disabled', None);" />
           </div>
           </fieldset>

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_pubType_docType">pubType</legend>
               
            <!-- pubType -->
            <div class="field"
                 tal:define="error errors/pubType|nothing;
                             pubTypes python:qdc['pubType']"
                 tal:attributes="class python:test(error, 'field error', 'field')"
            >

                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                <div class="formHelp" i18n:translate="help_pubType">
                    Geben Sie Art der Publikation an.
                </div>
                <tal:block tal:repeat="pubType pubTypes">
                    <tal:block tal:define="i repeat/pubType/index">
                        <div tal:content="structure python:here.pubTypeList('pubType:list',here.test('pubType',pubType, i))">
                        </div>
                    </tal:block>
                </tal:block>

            </div>

            <!-- docType -->
            <div class="field"
                 tal:define="error errors/docType|nothing;
                             default string:text;
                             docTypes python:qdc['docType']"
                 tal:attributes="class python:test(error, 'field error', 'field')"
                 i18n:domain="qdc">

                <label for="docType" i18n:translate="label_docType">docType</label>
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                <div class="formHelp" i18n:translate="help_docType">
                    Geben Sie den Dokumententyp an.
                </div>
                <tal:block tal:repeat="docType docTypes">
                    <tal:block tal:define="i repeat/docType/index">
                        <div tal:content="structure python:here.docTypeList('docType:list',here.test('docType',docType, i))">
                        </div>
                    </tal:block>
                </tal:block>

            </div>
           </fieldset>
           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_dates">Daten</legend>

            <!-- Daten --> 
           
            <div class="field"
                tal:define="error errors/dates|nothing;
                            created python:qdc['created']; 
                            modified python:qdc['modified'];
                            valid python:qdc['valid']"
                tal:attributes="class python:test(error, 'field error', 'field')"
            >
                <span class="fieldRequired" title="Required"
                       i18n:attributes="title"
                       i18n:translate="label_required">(Required)</span>
                <div tal:content="error">Validation error output</div>
                <div class="formHelp" i18n:translate="help_dates">
                    Format: JJJJ-MM-TT
                </div>
                <table class="listing">
                    <tr>
                        <th i18n:translate="created">created</th>
                        <th i18n:translate="modified">modified</th>
                        <th i18n:translate="valid">valid</th>
                    </tr>
                    <tr>
                        <td><input type="text" name="created" value ="" tal:attributes="value request/created|created|nothing" /></td>
                        <td><input type="text" name="modified" value ="" tal:attributes="value request/modified|modified|nothing" /></td>
                        <td><input type="text" name="valid" value =""  tal:attributes="value request/valid|valid|nothing"/></td>
                    </tr>
                </table>
                
            </div>

           </fieldset>
           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_bibliographicCitation">Bibliographic Citation</legend>

                <!-- BibliographicCitation-->
                <div class="field" i18n:domain="qdc" 
                    tal:define="error errors/bibliographicCitation|nothing;
                                bibliographicCitation  python:qdc['bibliographicCitation'][0]"
                    tal:attributes="class python:test(error, 'field error', 'field')">
                    <span class="fieldRequired" title="Required"
                           i18n:attributes="title"
                           i18n:translate="label_required">(Required)</span>
                    <div tal:content="error">Validation error output</div>
                    <div class="formHelp" i18n:translate="help_bibliographicCitation">
                    </div>
                    <table class="listing">
                        <tr>
                            <th i18n:translate="label_journalTitle">journalTitle</th>
                            <th i18n:translate="label_journalVolume">journalVolume</th>
                            <th i18n:translate="label_journalIssueNumber">journalIssueNumber</th>
                            <th i18n:translate="label_journalIssueDate">journalIssueDate</th>
                        </tr>
                        <tr>
                            <td><input type="text" name="bc_journalTitle"   value ="" tal:attributes="value request/bc_journalTitle|bibliographicCitation/journalTitle|nothing" /></td>
                            <td><input type="text" name="bc_journalVolume"   value ="" tal:attributes="value request/bc_journalVolume|bibliographicCitation/journalVolume|nothing" /></td>
                            <td><input type="text" name="bc_journalIssueNumber"   value ="" tal:attributes="value request/bc_journalIssueNumber|bibliographicCitation/journalIssueNumber|nothing" /></td>
                            <td><input type="text" name="bc_journalIssueDate"   value ="" tal:attributes="value request/bc_journalIssueDate|bibliographicCitation/journalIssueDate|nothing" /></td>
                        </tr>
                    </table>
                    
                </div>
           </fieldset>
           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_identifierDOI">DOI</legend>
                <!-- DOI-->
                <div class="field" i18n:domain="qdc" 
                    tal:define="error errors/identifierDOI|nothing;
                                identifierDOI  python:qdc['identifierDOI']"
                    tal:attributes="class python:test(error, 'field error', 'field')">
                    <div tal:content="error">Validation error output</div>
                    <div class="formHelp" i18n:translate="help_identifierDOI">
                        Digital Object Identifier 
                    </div>
                    <input type="text" name="identifierDOI"   value ="" tal:attributes="value request/identifierDOI|identifierDOI|nothing" />
                    
                </div>
           </fieldset> 

           <fieldset i18n:domain="qdc">
           <legend i18n:translate="label_rights">rights</legend>

                <!--rights-->
                <div class="field"
                     tal:define="error errors/rights|nothing;
                         rights  python:qdc['rights'][0]"
                     tal:attributes="class python:test(error, 'field error', 'field')"
                >

                    <span class="fieldRequired" title="Required"
                           i18n:attributes="title"
                           i18n:translate="label_required">(Required)</span>
                    <div tal:content="error">Validation error output</div>
                    <div class="formHelp" i18n:translate="help_rights">
                        Sollten Sie nicht der Autor sein, stellen Sie
                        sicher, dass sie das Einverständnis des Autors zur Wahl dieser Lizenz
                        vorliegen haben.
                    </div>
                    <div>
                        <input type="radio" name="rights:list" value="DPPL" tal:attributes="checked python:'DPPL' in path('request/rights | rights | python:[]')"/>
                        <span i18n:translate="dppl">Digital Peer Publishing Lizenz</span> <a href="http://www.dipp.nrw.de/">de</a><br />
                        <input type="radio" name="rights:list" value="mDPPL" tal:attributes="checked python:'mDPPL' in path('request/rights | rights | python:[]')"/>
                        <span i18n:translate="mdppl">modulare Digital Peer Publishing Lizenz</span> <a href="http://www.dipp.nrw.de/">de</a><br />
                        <input type="radio" name="rights:list" value="fDPPL" tal:attributes="checked python:'fDPPL' in path('request/rights | rights | python:[]')"/>
                        <span i18n:translate="fdppl">freie Digital Peer Publishing Lizenz</span> <a href="http://www.dipp.nrw.de/">de</a><br />
                    <!--
                      <select name="rights:list">
                        <option value='' i18n:translate="select_licence">--- whlen Sie eine Lizenz ---</option>
 <tal:block tal:content="structure python:here.rightsList('rights:list',here.test('rights',rights, 0))"/>
                      </select>
                      -->
                    </div>

                </div>
               </fieldset>
<!--
            </div>
-->
        </div>
    </body>
</html>
